mixin header(th, here, uri)
  - var i = {}
  if here
    - i[here] = 'active'
    //- if here = 'home', then this makes i.home = 'active'
  header
    nav.navbar.navbar-expand-lg.navbar-dark.bg-dark

      a#logo(href=`${lpath}/`)
        img(src="/assets/logosmall.png" height="45px")
      // this is for bundling the dropdown toggle menu and the language note to the right
      .d-flex.justify-content-end
        span#language-note.nav-link Change language &rarr;
        button.navbar-toggler(type='button' data-toggle='collapse' data-target='#navbarSupportedContent' aria-controls='navbarSupportedContent' aria-expanded='false' aria-label='Toggle navigation')
          span.navbar-toggler-icon

      #navbarSupportedContent.collapse.navbar-collapse
        ul.navbar-nav.mr-auto
          li.nav-item
            a.nav-link(href=`${lpath}/` class=i.home)= th.home
          li.nav-item.dropdown(style="display: inline-flex; align-items: center")
            a.nav-link(href=`${lpath}/guides/` class=i.guides)= th.guides
            a#guidesDropdown.nav-link.dropdown-toggle.dropdown-toggle-split(
              role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false")
            .dropdown-menu(aria-labelledby="guidesDropdown")
              a.dropdown-item(href=`${lpath}/guides/hackless/`) Hackless
              a.dropdown-item(href=`${lpath}/guides/homebrew/`) Homebrew
              a.dropdown-item(href=`${lpath}/guides/usbloading/`) USB Loading
          li.nav-item
            a.nav-link(href=`${lpath}/faq` class=i.faq)= th.faq
          li.nav-item.dropdown
            a#wikiDropdown.nav-link.dropdown-toggle(
              href='#' role='button'
              data-toggle='dropdown' aria-haspopup='true' aria-expanded='false'
              )= th.wiki
            .dropdown-menu(aria-labelledby='wikiDropdown')
              a.dropdown-item(href=`${lpath}/wiki/projectm`)= th.projectm
              a.dropdown-item(href=`${lpath}/wiki/softmodding`)= th.softmodding
              a.dropdown-item(href=`${lpath}/wiki/wiimodels`)= th.wiimodels
              a.dropdown-item(href=`${lpath}/wiki/homebrewapps`)= th.homebrewapps
              a.dropdown-item(href=`${lpath}/wiki/brickprotection`)= th.brickprotection
              a.dropdown-item(href=`${lpath}/wiki/exploits`)= th.exploits
              a.dropdown-item(href=`${lpath}/wiki/palvsntsc`)= th.palvsntsc
          li.nav-item
            a.nav-link(href=`${lpath}/contact`)= th.contact
          li.nav-item
            a.nav-link(href=`${lpath}/about`)= th.about
            
        ul#langdropdown.navbar-nav.mr-auto
          li.nav-item.dropdown
            a#navbarDropdown.nav-link.dropdown-toggle(href='#' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false')= th['language-dropdown']
            .dropdown-menu.dropdown-menu-right(aria-labelledby='navbarDropdown')
              // a.dropdown-item(href=`/da${uri}`) Dansk
              // a.dropdown-item(href=`/nl${uri}`) Nederlands
              a.dropdown-item(href=`${uri}`) English
              // a.dropdown-item(href=`/fi${uri}`) Suomi
              // a.dropdown-item(href=`/fr${uri}`) Français
              a.dropdown-item(href=`/de${uri}`) Deutsch
              // a.dropdown-item(href=`/it${uri}`) Italiano
              // a.dropdown-item(href=`/es${uri}`) Español
              // a.dropdown-item(href=`/sv${uri}`) Svenska